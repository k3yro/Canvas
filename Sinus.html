<!DOCTYPE html>
<html lang="de">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Titel</title>
</head>

<body>
	<canvas id="canvas2d" width="800" height="600" style="border:1px solid"></canvas>
	<table>
		<tr>
			<td>Sinus von X</td>
			<td id="sinusX"></td>
		</tr>
	</table>
	<script>
		let chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";

		const canvas = document.getElementById('canvas2d');
		const context = canvas.getContext('2d');
        
		class Sinus{

			constructor()
			{			
				this.sinusX			= 0;     				
				this.ruhelage 		= canvas.height / 2;
				this.amplitude 		= 40;
				this.T 				= 50;
				this.frequenz		= 1/this.T;
				this.kreisRadius 	= 10;
				this.interval 		= 15;
				this.inverse 		= -1; // only 1 or -1
				this.richtung 		= -1; // only 1 or -1
				this.posX 			= this.kreisRadius;
				this.color			= 0;
				this.font 			= '90px sans-serif';
			}

			refreshValues()
			{
				this.sinusX = this.inverse * this.amplitude * Math.sin(this.posX * this.frequenz);
				this.posY = this.sinusX + this.ruhelage;
				this.posX += this.richtung;
			}

			renderCircle()
			{
				this.refreshValues();
				context.beginPath();
				context.arc(this.posX, this.posY, this.kreisRadius, 0, 2 * Math.PI);
				context.fill();
			}

			renderChar(char)
			{
				this.refreshValues();
				context.font = this.font;
				context.fillText(char, this.posX, this.posY);				
			}
		}

		function initChars(name, xVersatz, yPosition)
		{
			for (let i = 0; i < chars.length; i++) {		
				if(typeof window[name + i] === 'undefined')
				{
					window[name + i] = new Sinus;
				}
				window[name + i].ruhelage = yPosition;
				window[name + i].posX = xVersatz + canvas.width - window[name + i].kreisRadius + i * 90;
			}
		}

		function renderChars(name)
		{
			for (let i = 0; i < chars.length; i++) {
				window[name + i].renderChar(chars.charAt(i));
			}
		}

		// ABCDE = 5 rows on canvas
		initChars("sinCharA", 180, canvas.height / 2);
		initChars("sinCharB", 90, canvas.height / 4);
		initChars("sinCharC", 270, canvas.height * 0.75);
		initChars("sinCharD", 360, canvas.height);
		initChars("sinCharE", 0, 0);

		setInterval(function () {

			context.clearRect(0, 0, canvas.width, canvas.height);

			renderChars("sinCharA");
			renderChars("sinCharB");
			renderChars("sinCharC");
			renderChars("sinCharD");
			renderChars("sinCharE");

		}, 10);

	</script>
</body>

</html>